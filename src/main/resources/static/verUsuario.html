<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
    <!--<div id="head"></div>-->
    <meta charset="UTF-8">
    <title>Información de usuario</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0">

    <link rel="shortcut icon" type="image/x-icon" href="/img/Logos/ClubSisIcon.ico">
    <link rel='stylesheet' href='webjars/bootstrap/3.3.6/css/bootstrap.min.css'/>
    <link rel="stylesheet" href="css/estilosRegBungalows.css">
    <link rel="stylesheet" href="webjars/jquery-ui/1.11.4/jquery-ui.css"/>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.min.js"></script>
    <script src="webjars/jquery/2.2.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/jquery-ui-git.js"></script>
    <script type="text/javascript" src="webjars/fancybox/2.1.5/jquery.fancybox.pack.js"></script>
    <script type="text/javascript" src="webjars/fancybox/2.1.5/jquery.fancybox.js"></script>
    <script src="webjars/jquery-ui/1.11.4/jquery-ui.min.js"></script>
    <script src="webjars/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="js/principal.js"></script>

</head>
<body ng-controller="UsuarioController">
<div id="headerAdministrador"></div>
<div class="container">
    <form class="form-horizontal mitadDerecha">
        <div class="row">
            <div class="form-group">
                <label class="control-label col-xs-4">Nombre de usuario</label>
                <div class="input-group col-xs-8">
                    <input  ng-model="usuarios.nombreUsuario" id="nombreUsuario" type="text" class="form-control col-xs-8" />
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-4">Contraseña</label>
                <div class="input-group col-xs-8">
                    <input ng-model="usuarios.contrasenha" type="text" class="form-control col-xs-8" placeholder="Contraseña del usuario"/>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-4">Rol</label>
                <div class="input-group col-xs-8">
                    <input  ng-model="usuarios.rol.nombre" id="rol" type="text" class="form-control col-xs-8" />
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-xs-4">Sede</label>
                <div class="input-group col-xs-8">
                    <input  id="sede" type="text" class="form-control col-xs-8"/>
                </div>
            </div>

            <div class="form-group">
                <label for="nombre" class="col-xs-4 control-label">Nombres</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.nombre" id="nombre">
                </div>
            </div>

            <div class="form-group">
                <label for="apellidoPaterno" class="col-xs-4 control-label">Apellido Paterno</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.apellidoPaterno" id="apellidoPaterno">
                </div>
            </div>

            <div class="form-group">
                <label for="apellidoMaterno" class="col-xs-4 control-label">Apellido Materno</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.apellidoMaterno" id="apellidoMaterno">
                </div>
            </div>

            <div class="form-group">
                <label  class="col-xs-4 control-label">Tipo de documento</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.tipoDoc" id="tipoDoc">
                </div>
            </div>

            <div class="form-group">
                <label  class="col-xs-4 control-label">Número de documento</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.numDoc" id="numDoc">
                </div>
            </div>

            <div class="form-group">
                <label for="fechaNacimiento" class="col-xs-4 control-label">Fecha de Nacimiento</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.fechaNacimiento" id="fechaNacimiento">
                </div>
            </div>

            <div class="form-group">
                <label for="telefono" class="col-xs-4 control-label">Teléfono</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.telefono" id="telefono">
                </div>
            </div>

            <div class="form-group">
                <label for="correo" class="col-xs-4 control-label">Correo</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.correo" id="correo">
                </div>
            </div>


            <div class="form-group">
                <label for="direccion" class="col-xs-4 control-label">Dirección</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.direccion" id="direccion">
                </div>
            </div>
            <div class="form-group">
                <label for="nombreContactoEmergencia" class="col-xs-4 control-label">Nombre de contacto de emergencia</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.nombreContactoEmergencia" id="nombreContactoEmergencia">
                </div>
            </div>
            <div class="form-group">
                <label for="telefonoContactoEmergencia" class="col-xs-4 control-label">Teléfono de contacto de emergencia</label>
                <div class="col-xs-8">
                    <input type="text" class="form-control" ng-model="usuarios.persona.telefonoContactoEmergencia" id="telefonoContactoEmergencia">
                </div>
            </div>
        </div>

        <div class="form-group ">
            <div class="col-md-12">
                <span class="obligatorio" >(*) Estos campos son obligatorios</span>
            </div>
        </div>
        <div class="col-sm-7 col-lg-7">
        </div>
        <div class="form-group">
            <div class="col-xs-offset-4 col-xs-10">
                <a href="MantenimientoUsuario.html" class="btn btn-primary" id="btnRegresar" style="margin-left: 50px;">Regresar</a>
            </div>
        </div>
    </form>
</div>
<div id="footer"></div>
<script type="text/javascript">
    var ruta = parent.document.URL.substring(parent.document.URL.indexOf('?'), parent.document.URL.length);
    var idUsuario = ruta.substring(ruta.lastIndexOf('=') + 1);

    $(".date-picker").datepicker();
    var app = angular.module('app', []);
    app.controller('UsuarioController', function ($scope, $http) {
        $scope.usuarios=[];
        $http.get('/api/usuarios/'+idUsuario).success(function (data) {
            $scope.usuarios=data;
            console.log(data);
            console.log(idUsuario);
            $http.get('/api/usuarios/'+idUsuario+'/getlistaSedes').success(function (data) {
                var sedes=data;
                console.log(sedes);
                var cadenaSedes = "";
                var i;
                for (i = 0; i < sedes.length - 1; i++) {
                    cadenaSedes.concat(sedes[i].nombre);
                    cadenaSedes.concat(", ");
                }
                cadenaSedes.concat(sedes[i].nombre);
                $("sede").text(cadenaSedes);
            });
        });
    });
    $("select, input").attr("disabled", true);
</script>
</body>
</html>